<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Form su Lista</title>
    <link rel="stylesheet" href="master.css">
</head>
<body>
    <SCRIPT language="Javascript"> 
        // isEmail (STRING s [, BOOLEAN emptyOK])
        // whitespace characters
        var whitespace = " \t\n\r";
        
        // 
        // Email address must be of form a@b.c ... in other words:
        // * there must be at least one character before the @
        // * there must be at least one character before and after the .
        // * the characters @ and . are both required
        function isValidEmail(s)
        {   
            if (isEmpty(s)) return false;
           
            // is s whitespace?
            if (isWhitespace(s)) return false;
                
            // there must be >= 1 character before @, so we
            // start looking at character position 1 
            // (i.e. second character)
            var i = 1;
            var sLength = s.length;
        
            // look for @
            while ((i < sLength) && (s.charAt(i) != "@"))
            { i++
            }
        
            if ((i >= sLength) || (s.charAt(i) != "@")) return false;
            else i += 2;
        
            // look for .
            while ((i < sLength) && (s.charAt(i) != "."))
            { i++
            }
        
            // there must be at least one character after the .
            if ((i >= sLength - 1) || (s.charAt(i) != ".")) return false;
            else return true;
        }
        
        // Check whether string s is empty.
        function isEmpty(s)
        {   
            return ((s == null) || (s.length == 0))
        }
        
        // Returns true if string s is empty or 
        // whitespace characters only.
        function isWhitespace(s)
        {   
            var i;
        
            // Is s empty?
            if (isEmpty(s)) return true;
        
            // Search through string's characters one by one
            // until we find a non-whitespace character.
            // When we do, return false; if we don't, return true.
            for (i = 0; i < s.length; i++)
            {   
                // Check that current character isn't whitespace.
                var c = s.charAt(i);
        
                if (whitespace.indexOf(c) == -1) return false;
            }
            // All characters are whitespace.
            return true;
        }
        
        function checkForm() { 
            if (!isValidEmail(document.subscribeForm.elements['Email Address'].value)) {
            document.subscribeForm.elements['Email Address'].style.backgroundColor='yellow';
                alert("Please enter a valid Email Address. (name@host.com)");
                document.subscribeForm.elements['Email Address'].focus();
                return false;
            }
        }
        </SCRIPT>

        <form action="http://cl.s50.exct.net/subscribe.aspx?lid=1543" name="subscribeForm" method="post" onSubmit="return checkForm();">
            <input type=hidden name="thx" value="https://roccoan-sigro.github.io/test/thankyou.html"> 
            <input type=hidden name="err" value="https://roccoan-sigro.github.io/test/error.html"> 
            <input type=hidden name="MID" value="510001710">
        <div class="container">
          <h2>Iscriviti alla newsletter</h2>
          <p>Newsletter blog</p>
        </div>
      
        <div class="container" style="background-color:white">
          <input type="text" placeholder="Indirizzo email" name="Email Address" required>
        </div>
            
        <div style="display: none;">
            <input type="radio" name="Email Type" value="HTML" checked required>
        </div>

        <div> <h3>Consenso privacy</h3> <br>
            <input type="radio" name="SubAction" value="sub_add_update" checked required>Accetto le condizioni<br>
            <input type="radio" name="SubAction" value="">Non ccetto le condizioni<br>
            <!--<input type="checkbox" name="SubAction" value="sub_add_update" required>Accetto le condizioni<br>-->
        </div>

        <div class="container">
          <input type="submit" value="Submit">
        </div>
      </form>
</body>
</html>
